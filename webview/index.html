<div class="container" id="mainContainer">
    <div class="input-group">
        <input type="text" class="form-control" id="regexOut" value="//g">
    </div>

    <button class="btn-primary btn" onclick="addGroup()">Add group</button>

    <script>
        let initialIndex = 0;
        const vscode = acquireVsCodeApi();
        $(() => {
            state(initialIndex);
            const newGroupContainer = makeGroupContainer(initialIndex);
            insertNewGroupContainer(document.getElementById("mainContainer"), newGroupContainer)
            makeSelections(initialIndex);
            newGroup();
            initialIndex++;
        });

        const addGroup = () => {
            state(initialIndex);
            const newGroupContainer = makeGroupContainer(initialIndex);
            insertNewGroupContainer(document.getElementById("mainContainer"), newGroupContainer);
            makeSelections(initialIndex);
            newGroup();
            initialIndex++;
        };

        const state = (i) => {
            vscode.setState({...vscode.getState()})[`beginString_${i}`] = false;
            vscode.setState({...vscode.getState()})[`endString_${i}`] = false;
            vscode.setState({...vscode.getState()})[`groupModifier_${i}`] = "";
            vscode.setState({...vscode.getState()})[`selectedGroupModifier_${i}`] = false;
            vscode.setState({...vscode.getState()})[`groupNumberLimit_${i}`] = false;
        };
    </script>
</div>